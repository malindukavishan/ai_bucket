/* Loader Floating Logos */

#loader {
    overflow: hidden;
    /* Ensure Logos don't scroll the page */
    perspective: 1000px;
}

#loader-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    /* Behind loader content */
    pointer-events: none;
}

.floating-logo {
    position: absolute;
    border-radius: 12px;
    opacity: 0.45;
    /* Updated to 45% */
    /* Subtle visibility */
    filter: grayscale(100%);
    /* Optional: Make them bg elements */
    animation: floatDown linear infinite;
    /* CHANGEDNAME */
    object-fit: contain;
    background: rgba(255, 255, 255, 0.05);
    /* Slight box bg */
    padding: 5px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

/* Dark mode adjustments */
[data-theme="dark"] .floating-logo {
    opacity: 0.45;
    /* Updated to 45% */
    background: rgba(255, 255, 255, 0.05);
}

@keyframes floatDown {

    /* CHANGEDNAME */
    0% {
        transform: translateY(-10vh) rotate(0deg) scale(0.8);
        /* Start above */
        opacity: 0;
    }

    10% {
        opacity: 0.45;
        /* Updated to 45% */
    }

    90% {
        opacity: 0.45;
        /* Updated to 45% */
    }

    100% {
        transform: translateY(110vh) rotate(360deg) scale(1);
        /* End below */
        opacity: 0;
    }
}

/* Ensure loader content stays on top */
.loader-content {
    z-index: 10;
    position: relative;
    background: rgba(var(--bg-rgb), 0.8);
    /* Optional backdrop */
    padding: 40px;
    border-radius: 20px;
    backdrop-filter: blur(5px);
    /* Glass effect for the loader text box */
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
}

[data-theme="dark"] .loader-content {
    background: rgba(13, 13, 18, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.05);
}

/* --- HOME PAGE BACKGROUND --- */

#home-background {
    position: fixed;
    /* Fixed so it doesn't scroll with content */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    /* Deep behind everything */
    pointer-events: none;
    overflow: hidden;
}

.home-floating-logo {
    position: absolute;
    border-radius: 12px;
    opacity: 0.45;
    /* Updated to 45% */
    /* Very subtle */
    filter: grayscale(100%);
    animation: driftWander infinite ease-in-out alternate;
    /* Meandering */
    object-fit: contain;
    padding: 0;
}

/* Dark mode adjustments for home bg */
[data-theme="dark"] .home-floating-logo {
    opacity: 0.45;
    /* Updated to 45% */
    /* Even more subtle in dark mode */
}

@keyframes driftWander {
    0% {
        transform: translate(0, 0) rotate(0deg);
    }

    25% {
        transform: translate(30px, -20px) rotate(5deg);
    }

    50% {
        transform: translate(-10px, 30px) rotate(-5deg);
    }

    75% {
        transform: translate(-30px, -10px) rotate(2deg);
    }

    100% {
        transform: translate(0, 0) rotate(0deg);
    }
}


/* --- FALLING EMOJI ANIMATION --- */
.falling-emoji {
    position: fixed;
    top: -50px;
    font-size: 2rem;
    pointer-events: none;
    z-index: 9999;
    animation: emojiFall linear forwards;
}

@keyframes emojiFall {
    0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
    }

    100% {
        transform: translateY(calc(100vh + 100px)) rotate(360deg);
        opacity: 0;
    }
}


/* --- SITE NAME GLITCH EFFECT --- */
.loader-text {
    position: relative;
    display: inline-block;
    /* Ensure no duplicate painting if not needed, but text-shadow is safe */
}

/* Subtle glitch on hover or always? User said "on loading page", so always active probably */
.loader-text {
    animation: glitch-anim 3s infinite linear alternate-reverse;
}

/* Pseudo-elements for the color split effect */
.loader-text::before,
.loader-text::after {
    content: "AI BUCKET";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--loader-bg);
    /* Match bg to hide original main text parts if needed, or transparent */
    background: transparent;
    opacity: 0.8;
}

.loader-text::before {
    color: #ff00ff;
    /* Magenta glitch */
    z-index: -1;
    animation: glitch-anim-1 2.5s infinite linear alternate-reverse;
}

.loader-text::after {
    color: #00ffff;
    /* Cyan glitch */
    z-index: -2;
    animation: glitch-anim-2 3s infinite linear alternate-reverse;
}

@keyframes glitch-anim {
    0% {
        transform: translate(0);
    }

    20% {
        transform: translate(-1px, 1px);
    }

    40% {
        transform: translate(-1px, -1px);
    }

    60% {
        transform: translate(1px, 1px);
    }

    80% {
        transform: translate(1px, -1px);
    }

    100% {
        transform: translate(0);
    }
}

@keyframes glitch-anim-1 {
    0% {
        clip-path: inset(20% 0 80% 0);
        transform: translate(-2px, 0);
    }

    20% {
        clip-path: inset(60% 0 10% 0);
        transform: translate(2px, 0);
    }

    40% {
        clip-path: inset(40% 0 50% 0);
        transform: translate(-2px, 0);
    }

    60% {
        clip-path: inset(80% 0 5% 0);
        transform: translate(2px, 0);
    }

    80% {
        clip-path: inset(10% 0 60% 0);
        transform: translate(-1px, 0);
    }

    100% {
        clip-path: inset(30% 0 30% 0);
        transform: translate(1px, 0);
    }
}

@keyframes glitch-anim-2 {
    0% {
        clip-path: inset(10% 0 60% 0);
        transform: translate(2px, 0);
    }

    20% {
        clip-path: inset(80% 0 5% 0);
        transform: translate(-2px, 0);
    }

    40% {
        clip-path: inset(30% 0 20% 0);
        transform: translate(2px, 0);
    }

    60% {
        clip-path: inset(15% 0 80% 0);
        transform: translate(-2px, 0);
    }

    80% {
        clip-path: inset(55% 0 10% 0);
        transform: translate(1px, 0);
    }

    100% {
        clip-path: inset(40% 0 30% 0);
        transform: translate(-1px, 0);
    }
}